{% extends 'website/base.html' %}
{% load static %}

{% block head %}

<head>
    <title> Datazaur </title>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">

    <script
            src="https://code.jquery.com/jquery-3.5.1.min.js"
            integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
            crossorigin="anonymous">
    </script>

    <!--    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>-->
    <script
            src="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.12.6/js/standalone/selectize.min.js"
            integrity="sha256-+C0A5Ilqmu4QcSPxrlGpaZxJ04VjsRjKu+G82kl5UJk="
            crossorigin="anonymous"></script>

    <script
            src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
            integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
            crossorigin="anonymous">
    </script>
    <script
            src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
            integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
            crossorigin="anonymous">
    </script>
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.12.6/css/selectize.bootstrap3.min.css"
          integrity="sha256-ze/OEYGcFbPRmvCnrSeKbRTtjG4vGLHXgOqsyLFTRjg="
          crossorigin="anonymous"/>

    <!-- Chart.JS -->
    <script src="https://cdn.jsdelivr.net/npm/luxon@1.26.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.0.1/dist/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-luxon@1.0.0"></script>
    <script src="{% static 'js/chartjs-chart-financial.js' %}" type="text/javascript"></script>


</head>


{% endblock %}

{% block searchbar %}

{% endblock %}

{% block sidebar %}
{% include 'companies/_companies_sidebar.html' %}
{% endblock %}


{% block content %}
<div id="companies_market_data_chart_div">
    <select id="companies_market_data_period_select" name="companies_market_data_period_select">
        <option name="companies_market_data_option" value="10y" selected="selected">
            10 years
        </option>
        <option name="companies_market_data_option" value="1mo">
            1 month
        </option>
        <option name="companies_market_data_option" value="1d">
            1 day
        </option>
        <option name="companies_market_data_option" value="3mo">
            3 months
        </option>
        <option name="companies_market_data_option" value="6mo">
            6 months
        </option>
        <option name="companies_market_data_option" value="ytd">
            Year-to-date
        </option>
        <option name="companies_market_data_option" value="1y">
            1 year
        </option>
        <option name="companies_market_data_option" value="2y">
            2 years
        </option>
        <option name="companies_market_data_option" value="5y">
            5 years
        </option>

        <option name="companies_market_data_option" value="max">
            All data
        </option>
    </select>

    <canvas id="companies_market_data_chart"></canvas>
</div>

{% endblock %}

{% block js %}
<script type="text/javascript">
        var data = "{{ data |safe}}";
        var start_date = "{{ start_date }}";
        var company_name = "{{ company_name }}";
        var symbol = "{{ symbol }}";
        console.log(symbol);
</script>
<script src="{% static 'js/companies_ohlc.js' %}" type="text/javascript"></script>
<script src="{% static 'js/companies_change_period.js' %}" type="text/javascript"></script>


{% endblock %}

{% block comment %}


{{ table |safe }}
{% endblock %}